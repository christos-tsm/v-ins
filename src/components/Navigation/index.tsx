import React from 'react'
import { useSupabaseClient, useUser } from '@supabase/auth-helpers-react';
import { useRouter } from 'next/router';
import Link from 'next/link';
import { ItemList, ItemListButton, MenuUL, NavigationContainer } from './styles';

const Navigation = () => {
    const supabaseClient = useSupabaseClient();
    const user = useUser();
    const router = useRouter();

    const signOutUser = () => {
        supabaseClient.auth.signOut();
        router.push('/');
    }

    return (

        <NavigationContainer>
            <div className="logo">
                <Link href={'/'}>
                    <svg width="63" height="15" viewBox="0 0 63 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0.86 1.68C0.86 1.24 1.04667 0.879999 1.42 0.6C1.80667 0.306666 2.34667 0.159999 3.04 0.159999C4.49333 0.159999 5.22 0.666666 5.22 1.68C5.22 2.24 5.03333 2.63333 4.66 2.86C4.3 3.08667 3.76 3.2 3.04 3.2C2.41333 3.2 1.89333 3.08 1.48 2.84C1.06667 2.6 0.86 2.21333 0.86 1.68ZM5.2 11.86C5.2 12.66 5.03333 13.22 4.7 13.54C4.36667 13.8467 3.78 14 2.94 14C2.15333 14 1.61333 13.82 1.32 13.46C1.04 13.0867 0.9 12.48 0.9 11.64V6.72C0.9 6.04 1.08 5.49333 1.44 5.08C1.81333 4.66667 2.30667 4.46 2.92 4.46C3.64 4.46 4.2 4.62 4.6 4.94C5 5.24667 5.2 5.82 5.2 6.66V11.86ZM13.5338 10.74C14.2138 10.74 14.6538 10.5667 14.8538 10.22C15.0671 9.87333 15.1738 9.28 15.1738 8.44C15.1738 8.04 15.1738 7.12 15.1738 5.68C15.1871 4.22667 15.1938 3.12 15.1938 2.36C15.1938 1.65333 15.3604 1.14 15.6938 0.819999C16.0404 0.486666 16.6271 0.32 17.4538 0.32C18.1871 0.32 18.7338 0.506666 19.0938 0.88C19.4538 1.24 19.7071 1.90667 19.8538 2.88C20.0004 3.84 20.0738 5.30667 20.0738 7.28C20.0738 8.12 19.9738 8.88667 19.7738 9.58C19.5871 10.2733 19.3204 10.8667 18.9738 11.36C18.6404 11.84 18.2604 12.2667 17.8338 12.64C17.4071 13 16.9471 13.2867 16.4538 13.5C15.9604 13.7133 15.4738 13.8733 14.9938 13.98C14.5138 14.0867 14.0404 14.14 13.5738 14.14C13.0004 14.14 12.4204 14.0733 11.8338 13.94C11.2604 13.7933 10.6738 13.5467 10.0738 13.2C9.48708 12.8533 8.96708 12.4333 8.51375 11.94C8.06042 11.4333 7.68708 10.78 7.39375 9.98C7.11375 9.16667 6.97375 8.26667 6.97375 7.28C6.97375 5.30667 7.05375 3.84 7.21375 2.88C7.37375 1.90667 7.64708 1.24 8.03375 0.88C8.42042 0.506666 9.01375 0.32 9.81375 0.32C10.5604 0.32 11.0871 0.486666 11.3938 0.819999C11.7004 1.14 11.8538 1.65333 11.8538 2.36C11.8538 3.13333 11.8538 4.24 11.8538 5.68C11.8671 7.10667 11.8738 8.02 11.8738 8.42C11.8738 8.76667 11.8804 9.04667 11.8938 9.26C11.9204 9.46 11.9604 9.66667 12.0138 9.88C12.0804 10.0933 12.1738 10.26 12.2938 10.38C12.4138 10.4867 12.5738 10.5733 12.7738 10.64C12.9738 10.7067 13.2271 10.74 13.5338 10.74ZM28.3175 9.26C28.3175 8.56667 28.2308 7.96 28.0575 7.44C27.8842 6.90667 27.6308 6.64 27.2975 6.64C27.0708 6.64 26.8708 6.77333 26.6975 7.04C26.5242 7.30667 26.3975 7.63333 26.3175 8.02C26.2375 8.40667 26.1975 8.82 26.1975 9.26C26.1975 9.94 26.2908 10.54 26.4775 11.06C26.6642 11.5667 26.9308 11.82 27.2775 11.82C27.6242 11.82 27.8842 11.5667 28.0575 11.06C28.2308 10.5533 28.3175 9.95333 28.3175 9.26ZM27.2775 14.14C26.2375 14.14 25.2975 13.9533 24.4575 13.58C23.6308 13.2067 22.9642 12.6467 22.4575 11.9C21.9642 11.1533 21.7175 10.28 21.7175 9.28C21.7175 7.76 22.2375 6.55333 23.2775 5.66C24.3175 4.76667 25.6508 4.32 27.2775 4.32C28.9042 4.32 30.2308 4.76667 31.2575 5.66C32.2842 6.55333 32.7975 7.76 32.7975 9.28C32.7975 10.7867 32.2708 11.9733 31.2175 12.84C30.1775 13.7067 28.8642 14.14 27.2775 14.14ZM38.8747 10.98C38.8747 12.06 38.6947 12.8333 38.3347 13.3C37.9747 13.7667 37.4214 14 36.6747 14C35.928 14 35.3814 13.7933 35.0347 13.38C34.688 12.9533 34.5147 12.2067 34.5147 11.14L34.4747 2.7C34.4747 2.35333 34.508 2.04667 34.5747 1.78C34.6547 1.51333 34.7547 1.28667 34.8747 1.1C35.008 0.913333 35.168 0.759999 35.3547 0.639999C35.5414 0.519999 35.7414 0.433332 35.9547 0.379999C36.1814 0.326665 36.4214 0.299999 36.6747 0.299999C37.408 0.299999 37.9547 0.446666 38.3147 0.739999C38.688 1.03333 38.8747 1.62667 38.8747 2.52V10.98ZM47.1652 9.26C47.1652 8.56667 47.0785 7.96 46.9052 7.44C46.7318 6.90667 46.4785 6.64 46.1452 6.64C45.9185 6.64 45.7185 6.77333 45.5452 7.04C45.3718 7.30667 45.2452 7.63333 45.1652 8.02C45.0852 8.40667 45.0452 8.82 45.0452 9.26C45.0452 9.94 45.1385 10.54 45.3252 11.06C45.5118 11.5667 45.7785 11.82 46.1252 11.82C46.4718 11.82 46.7318 11.5667 46.9052 11.06C47.0785 10.5533 47.1652 9.95333 47.1652 9.26ZM46.1252 14.14C45.0852 14.14 44.1452 13.9533 43.3052 13.58C42.4785 13.2067 41.8118 12.6467 41.3052 11.9C40.8118 11.1533 40.5652 10.28 40.5652 9.28C40.5652 7.76 41.0852 6.55333 42.1252 5.66C43.1652 4.76667 44.4985 4.32 46.1252 4.32C47.7518 4.32 49.0785 4.76667 50.1052 5.66C51.1318 6.55333 51.6452 7.76 51.6452 9.28C51.6452 10.7867 51.1185 11.9733 50.0652 12.84C49.0252 13.7067 47.7118 14.14 46.1252 14.14ZM58.0223 4.32C59.2623 4.32 60.2957 4.57333 61.1223 5.08C61.949 5.58667 62.3623 6.14 62.3623 6.74C62.3623 6.91333 62.289 7.07333 62.1423 7.22C61.9957 7.36667 61.809 7.44 61.5823 7.44C61.3823 7.44 61.1623 7.37333 60.9223 7.24C60.6823 7.09333 60.4557 6.94 60.2423 6.78C60.029 6.62 59.749 6.47333 59.4023 6.34C59.0557 6.20667 58.689 6.14 58.3023 6.14C57.7823 6.14 57.5223 6.3 57.5223 6.62C57.5223 6.84667 57.6557 7.02667 57.9223 7.16C58.189 7.29333 58.5757 7.43333 59.0823 7.58C59.6023 7.72667 59.9957 7.86667 60.2623 8C61.2623 8.38667 61.949 8.80667 62.3223 9.26C62.6957 9.7 62.8823 10.2867 62.8823 11.02C62.8823 11.38 62.7823 11.74 62.5823 12.1C62.3823 12.4467 62.0823 12.78 61.6823 13.1C61.2823 13.4067 60.7357 13.66 60.0423 13.86C59.3623 14.0467 58.5823 14.14 57.7023 14.14C55.9823 14.14 54.6957 13.7467 53.8423 12.96C53.429 12.5733 53.2223 12.1733 53.2223 11.76C53.2223 11.5067 53.3023 11.3067 53.4623 11.16C53.6357 11.0133 53.8757 10.94 54.1823 10.94C54.489 10.94 54.9557 11.0933 55.5823 11.4C56.209 11.6933 56.789 11.84 57.3223 11.84C58.0557 11.84 58.4223 11.66 58.4223 11.3C58.4223 11.1133 58.229 10.9667 57.8423 10.86C57.4557 10.74 56.949 10.6 56.3223 10.44C55.6957 10.28 55.1957 10.08 54.8223 9.84C54.2357 9.58667 53.8223 9.27333 53.5823 8.9C53.3557 8.51333 53.2423 8.04667 53.2423 7.5C53.2423 6.56667 53.6823 5.80667 54.5623 5.22C55.4557 4.62 56.609 4.32 58.0223 4.32Z" fill="#EE4B6A" />
                    </svg>
                </Link>
            </div>
            <nav className='menu'>
                <MenuUL>
                    <ItemList><Link href='/about'>Σχετικά με εμάς</Link></ItemList>
                    <ItemList><Link href='/contact'>Επικοινωνία</Link></ItemList>
                    {
                        !user ?
                            <ItemListButton>
                                <Link href='/auth'>
                                    Σύνδεση
                                </Link>
                            </ItemListButton>
                            :
                            <ItemListButton>
                                <button onClick={() => signOutUser()}>
                                    Αποσύνδεση
                                </button>
                            </ItemListButton>
                    }

                </MenuUL>

            </nav>
        </NavigationContainer>
    )
}

export default Navigation